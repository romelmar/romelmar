{
    "sourceFile": "resources/views/documents/view.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1653275192935,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1653275250193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n @section('content')\n     <div class=\"content\">\n         <div class=\"container-fluid\"> \n             <div class=\"row\">\n-\n+ \n                 <div class=\"col-md-12\">\n                     <div class=\"card form-wrap\">\n                         <div class=\"card-body \">\n                             <main>\n"
                },
                {
                    "date": 1653275893567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,8 @@\n @section('content')\n     <div class=\"content\">\n         <div class=\"container-fluid\"> \n             <div class=\"row\">\n- \n                 <div class=\"col-md-12\">\n                     <div class=\"card form-wrap\">\n                         <div class=\"card-body \">\n                             <main>\n"
                }
            ],
            "date": 1653275192935,
            "name": "Commit-0",
            "content": "@extends('layouts.app', ['activePage' => 'dashboard', 'titlePage' => __('Document')])\n@section('content')\n    <div class=\"content\">\n        <div class=\"container-fluid\"> \n            <div class=\"row\">\n\n                <div class=\"col-md-12\">\n                    <div class=\"card form-wrap\">\n                        <div class=\"card-body \">\n                            <main>\n                                <div class=\"row g-5\">\n                                    <div class=\"col-md-5 col-lg-4 order-md-last\">\n                                        <ul class=\"list-group mb-3\">\n                                            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                                                <div>\n                                                    <h6 class=\"my-0\">\n                                                        {{ __('Control #: ') . $document->control_number }}</h6>\n                                                    <small class=\"text-muted\">{{ __('As of ') . now() }}</small>\n                                                    {{-- <p><span class=\"text-muted\">{{ $document->get_status() }}</span></p> --}}\n                                                </div>\n                                                \n\n                                            </li>\n                                            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                                                <div>\n                                                    <h6 class=\"my-0\">{{ __('Date Received') }}</h6>\n                                                    <small class=\"text-muted\">{{ $document->action_taken }}</small>\n                                                </div>\n                                                <span class=\"text-muted\">{{ $document->date_received }}</span>\n                                            </li>\n                                            <li\n                                                class=\"list-group-item d-flex justify-content-between lh-sm bg-{{ $document->expired() }} deadline\">\n                                                <div>\n                                                    <h6 class=\"my-0\">{{ __('Deadline / Schedule') }}</h6>\n                                                    <small\n                                                        class=\"text-muted\">{{ $document->required_action }}</small>\n                                                </div>\n                                                <span class=\"text-muted\">{{ $document->deadline }}</span>\n                                            </li>\n                                            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                                                <div>\n                                                    <h6 class=\"my-0 text-primary \">{{ $document->employee->fullname() }}\n                                                    </h6>\n                                                    <small\n                                                        class=\"text-success\">{{ $document->origin_office->name }}</small>\n                                                </div>\n                                                <span class=\"text-muted\">Focal</span>\n                                            </li>\n                                            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                                                <div>\n                                                    <h6 class=\"my-0\">{{ __('Means of Receiving') }}</h6>\n                                                    <small class=\"my-0\">{{ $document->doctype->name }}</small>\n                                                </div>\n                                                <span\n                                                    class=\"text-muted\">{{ $document->meansOfReceiving->name }}</span>\n                                            </li>\n                                            <li class=\"list-group-item d-flex justify-content-between lh-sm\">\n                                                <ul class=\"list-group\">\n                                                    @foreach ($images as $image)\n                                                        <li class=\"list-group-item\">\n                                                            <a href=\"#\" class=\"\" data-toggle=\"modal\"\n                                                                data-target=\"#viewPDFModal\">\n                                                                <i\n                                                                    class=\"material-icons text-danger\">attachment</i>{{ $image->image_path }}\n                                                            </a>\n                                                        </li>\n                                                    @endforeach\n\n                                                </ul>\n\n                                            </li>\n\n                                        </ul>\n                                    </div>\n                                    <div class=\"col-md-7 col-lg-8\">\n                                        <div class=\"card shadow\">\n                                          <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\n                                            <h3 class=\"text-light\">{{ __('Routes - ' . $document->subject . \" (\".$document->origin_office->name.\")\")}}</h3>\n                                            {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\n                                            <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addRouteModal\">\n                                              <i class=\"bi-plus-circle me-2\"></i> Add</button>\n                                          </div>\n                                          \n                                          <div class=\"card-body \" id=\"show_all_documents\">\n                                            @include('layouts.components.loader')\n                                           \n                                          </div>\n                                        </div>\n                                    </div>\n                                </div>\n                        </main>\n                      </div>\n                        <div id=\"example1\"></div>\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n    </div>\n    </div>\n\n    @include('modal.view_pdf')\n    @include('modal.add_route')\n\n@endsection\n@push('js')\n    <script src=\"https://unpkg.com/pdfobject@2.2.7/pdfobject.min.js\"></script>\n    <script>\n        PDFObject.embed(\"{{ route('show-pdf', ['id' => $image->id]) }}\", \"#pdf-viewer\");\n    </script>\n\n\n    <script type=\"text/javascript\">\n        $(function() {\n            $('.datepicker').datepicker();\n        });\n    </script>\n    <script src=\"{{ asset('auto.js') }}\"></script>\n\n    <script>\n        var tabEl = document.querySelector('button[data-bs-toggle=\"tab\"]')\n        tabEl.addEventListener('shown.bs.tab', function(event) {\n            event.target // newly activated tab\n            event.relatedTarget // previous active tab\n        })\n    </script>\n\n\n    <script type=\"text/javascript\">\n        $.ajaxSetup({\n            headers: {\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n            }\n        });\n\n        // $(\".btn-submitAjax\").click(function(e) {\n\n        //     e.preventDefault();\n\n        //     var title = $(\"input[name=title]\").val();\n        //     var details = $(\"input[name=details]\").val();\n        //     var url = '{{ url('postinsert') }}';\n\n        //     $.ajax({\n        //         url: url,\n        //         method: 'POST',\n        //         data: {\n        //             Code: title,\n        //             Chief: details\n        //         },\n        //         success: function(response) {\n        //             if (response.success) {\n        //                 alert(response.message) //Message come from controller\n        //             } else {\n        //                 alert(\"Error\")\n        //             }\n        //         },\n        //         error: function(error) {\n        //             console.log(error)\n        //         }\n        //     });\n        // });\n\n// ----------------------------------------------------------------\nfetchAllDocuments();\n\n    function fetchAllDocuments() {\n      $.ajax({\n        url: '{{ route('fetchAllRoute') }}',\n        method: 'get',\n        success: function(response) {\n          $(\"#show_all_documents\").html(response);\n          var table = $('#myTable').DataTable({\n            \"order\": [[ 2, \"asc\" ]],\n            columnDefs: [\n                          // {\n                          //     \"targets\": [ 0 ],\n                          //     \"visible\": false,\n                          //     \"searchable\": false\n                          // },\n                          // {\n                          //     \"targets\": [ 5 ],\n                          //     \"visible\": false,\n                          //     \"searchable\": false\n                          // },\n                          { orderable: false, targets: [3] }\n                        ]\n          });\n\n          table.columns().iterator('column', function (ctx, idx) {\n          $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n    });\n        }\n      });\n    }\n    </script>\n@endpush\n"
        }
    ]
}