{
    "sourceFile": "resources/views/documents/home.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 76,
            "patches": [
                {
                    "date": 1653292197068,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1653292210307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,8 @@\n \n @push('js')\n   <script>\n     $(document).ready(function() {\n-      \n       // Javascript method's body can be found in assets/js/demos.js\n       md.initDashboardPageCharts();\n       if($('.alert').length){\n           setInterval(() => {\n"
                },
                {
                    "date": 1653292232951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,15 +26,10 @@\n       {{-- Document modal start --}}\n         @include('layouts.document.add')\n         @include('layouts.document.edit')\n       {{-- Document modal end --}}      \n-\n-\n-\n     </div>\n   </div>\n-\n-      \n @endsection\n \n @push('js')\n   <script>\n"
                },
                {
                    "date": 1653371336539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,260 +1,262 @@\n @extends('layouts.app', ['activePage' => 'dashboard', 'titlePage' => __('Dashboard')])\n \n @section('content')\n-  <div class=\"content\">\n-    <div class=\"container-fluid\">\n-      @include('layouts.components.status_nav')\n-      @include('layouts.components.notification')\n-      <div class=\"row my-5\">\n-        <div class=\"col-lg-12\">\n-          <div class=\"card shadow\">\n-            <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\n-              <h3 class=\"text-light\">{{ __('Documents')}}</h3>\n-              {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\n-              <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\">\n-                <i class=\"bi-plus-circle me-2\"></i> Add New Document</button>\n+    <div class=\"content\">\n+        <div class=\"container-fluid\">\n+            @include('layouts.components.status_nav')\n+            @include('layouts.components.notification')\n+            <div class=\"row my-5\">\n+                <div class=\"col-lg-12\">\n+                    <div class=\"card shadow\">\n+                        <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\n+                            <h3 class=\"text-light\">{{ __('Documents') }}</h3>\n+                            {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\n+                            <button type=\"button\" class=\"btn btn-light\" data-toggle=\"modal\" data-target=\"#addDocumentModal\">\n+                                <i class=\"bi-plus-circle me-2\"></i> Add New Document</button>\n+                        </div>\n+\n+                        <div class=\"card-body \" id=\"show_all_documents\">\n+                            @include('layouts.components.loader')\n+\n+                        </div>\n+                    </div>\n+                </div>\n             </div>\n-            \n-            <div class=\"card-body \" id=\"show_all_documents\">\n-              @include('layouts.components.loader')\n-             \n-            </div>\n-          </div>\n+\n+            {{-- Document modal start --}}\n+            @include('layouts.document.add')\n+            @include('layouts.document.edit')\n+            {{-- Document modal end --}}\n         </div>\n-      </div>\n-      \n-      {{-- Document modal start --}}\n-        @include('layouts.document.add')\n-        @include('layouts.document.edit')\n-      {{-- Document modal end --}}      \n     </div>\n-  </div>\n @endsection\n \n @push('js')\n-  <script>\n-    $(document).ready(function() {\n-      // Javascript method's body can be found in assets/js/demos.js\n-      md.initDashboardPageCharts();\n-      if($('.alert').length){\n-          setInterval(() => {\n-            $('.alert').addClass(\"fadeOutUp\");\n-          }, 3000);\n-          \n-        }\n-    });\n-  </script>\n+    <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n-<script src=\"{{ asset('auto.js') }}\"></script>\n-<script>\n-  \n-    $.ajaxSetup({\n-        headers: {\n-            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-        }\n+            }\n+        });\n+    </script>\n \n-    });\n+    <script src=\"{{ asset('auto.js') }}\"></script>\n+    <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n \n-    $(\"button#addDocument\").click(function(e){\n-        e.preventDefault();\n+        });\n \n-        var date_received   =   $(\"input[name=date_received]\").val();\n-        var deadline        =   $(\"input[name=deadline]\").val();\n-        var subject         =   $(\"input[name=subject]\").val();\n-        var origin_id          =   $(\"input[name=origin_id]\").val();\n-        var employee_id           =   $(\"input[name=employee_id]\").val();\n-        var doctype_id         =   $(\"input[name=doctype_id]\").val();\n-        var mor_id             =   $(\"input[name=mor_id]\").val();\n-        var control_number  =   $(\"input[name=control_number]\").val();\n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n \n-        $(this).text('Adding...');\n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n \n-        $.ajax({\n-           type:'POST',\n-           url:\"{{ route('storeAjax') }}\",\n-           data:{\n+            $(this).text('Adding...');\n \n-            date_received:date_received,\n-            deadline:deadline,\n-            subject:subject,\n-            origin_id:origin_id,\n-            employee_id:employee_id,\n-            doctype_id:doctype_id,\n-            mor_id:mor_id,\n-            control_number:control_number\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n \n-          },\n-           success:function(data){\n-              // console.log(data.success);\n-                        if (data.status == 200) {\n-            Swal.fire(\n-              'Added!',\n-              'Document Added Successfully!',\n-              'success'\n-            )\n-            fetchAllDocuments();\n-          }\n-              $(\"button#addDocument\").text('Add Document');\n-              $(\"#addDocumentForm\")[0].reset();\n-              $(\"#addDocumentModal\").modal('hide');\n-           }\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n         });\n-    });\n \n-    // edit employee ajax request\n-    $(document).on('click', '.editIcon', function(e) {\n-      e.preventDefault();\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n \n-      let id = $(this).attr('id');\n-      $.ajax({\n-        url:\"{{ route('edit.doc') }}\",\n-        method: 'get',\n-        data: {\n-          id: id,\n-          _token: '{{ csrf_token() }}'\n-        },\n-        success: function(response) {\n-         \n-          dr = response[0].date_received;\n-          for (let x in response[0]) {\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n \n-            var el = document.querySelector('#updateDocument');\n-            el.setAttribute('data-id', id);\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n \n-            if(x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-            else {\n-              name = x.replace('_id', '');\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n \n-              $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-              $(\"#editDocumentModal #\" + x ).val(response[name]);\n-            }\n-          }\n-        }\n-      });\n-    });\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n \n-    // update employee ajax request\n-   \n-    $(\"button#updateDocument\").click(function(e){\n-        e.preventDefault();\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n \n-        var date_received   =   $(\"#editDocumentModal input[name=date_received]\").val();\n-        var deadline        =   $(\"#editDocumentModal input[name=deadline]\").val();\n-        var subject         =   $(\"#editDocumentModal input[name=subject]\").val();\n-        var origin_id       =   $(\"#editDocumentModal input[name=origin_id]\").val();\n-        var employee_id     =   $(\"#editDocumentModal input[name=employee_id]\").val();\n-        var doctype_id      =   $(\"#editDocumentModal input[name=doctype_id]\").val();\n-        var mor_id          =   $(\"#editDocumentModal input[name=mor_id]\").val();\n-        var control_number  =   $(\"#editDocumentModal input[name=control_number]\").val();\n-        var el = document.querySelector(\"button#updateDocument\");\n-        var id = el.getAttribute('data-id');\n-        // var id = 38;\n+        // update employee ajax request\n \n-        $(this).text('Updating...');\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n \n-        $.ajax({\n-           type:'POST',\n-           url: '{{ route('update.doc') }}',\n-           data:{\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n \n-            date_received:date_received,\n-            deadline:deadline,\n-            subject:subject,\n-            origin_id:origin_id,\n-            employee_id:employee_id,\n-            doctype_id:doctype_id,\n-            mor_id:mor_id,\n-            control_number:control_number,\n-            id:id\n+            $(this).text('Updating...');\n \n-          },\n-          method: 'put',\n-           success:function(data){\n-              // console.log(data.success);\n-                        if (data.status == 200) {\n-            Swal.fire(\n-              'Updated!',\n-              'Document Updated Successfully!',\n-              'success'\n-            )\n-            fetchAllDocuments();\n-          }              \n-              $(\"#editDocumentModal\").modal('hide');\n-              $(\"button#updateDocument\").text('Update Document');\n-              $(\"#update_document_form\")[0].reset();\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n \n-           }\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n         });\n-    });    \n-    \n-    // delete employee ajax request\n-    $(document).on('click', '.deleteIcon', function(e) {\n-      e.preventDefault();\n-      let id = $(this).attr('id');\n-      let csrf = '{{ csrf_token() }}';\n-      Swal.fire({\n-        title: 'Are you sure?',\n-        text: \"You won't be able to revert this!\",\n-        icon: 'warning',\n-        showCancelButton: true,\n-        confirmButtonColor: '#3085d6',\n-        cancelButtonColor: '#d33',\n-        confirmButtonText: 'Yes, delete it!'\n-      }).then((result) => {\n-        if (result.isConfirmed) {\n-          $.ajax({\n-            url: '{{ route('delete') }}',\n-            method: 'delete',\n-            data: {\n-              id: id,\n-              _token: csrf\n-            },\n-            success: function(response) {\n-              // console.log(response);\n-              Swal.fire(\n-                'Deleted!',\n-                'Your file has been deleted.',\n-                'success'\n-              )\n-              fetchAllDocuments();\n-            }\n-          });\n-        }\n-      })\n-    });\n \n-    // fetch all employees ajax request\n-    fetchAllDocuments();\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n \n-    function fetchAllDocuments() {\n-      $.ajax({\n-        url: '{{ route('fetchAll') }}',\n-        method: 'get',\n-        success: function(response) {\n-          $(\"#show_all_documents\").html(response);\n-          var table = $('#myTable').DataTable({\n-            \"order\": [[ 5, \"desc\" ]],\n-            columnDefs: [\n-                          {\n-                              \"targets\": [ 0 ],\n-                              \"visible\": false,\n-                              \"searchable\": false\n-                          },\n-                          {\n-                              \"targets\": [ 5 ],\n-                              \"visible\": false,\n-                              \"searchable\": false\n-                          },\n-                          { orderable: false, targets: [4,5] }\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n                         ]\n-          });\n+                    });\n \n-          table.columns().iterator('column', function (ctx, idx) {\n-          $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-    });\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n         }\n-      });\n-    }\n-</script>\n+    </script>\n @endpush\n-\n"
                },
                {
                    "date": 1653457892853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,11 @@\n             {{-- Document modal end --}}\n         </div>\n     </div>\n @endsection\n-\n+@section('pagescript')\n+    <script src=\"/js/someScript.min.js\"></script>\n+@stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n             // Javascript method's body can be found in assets/js/demos.js\n"
                },
                {
                    "date": 1653457941681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script src=\"/js/someScript.min.js\"></script>\n+    <script src=\"/js/test.js\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653457981981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script src=\"/js/test.js\"></script>\n+    <script src=\"js/test.js\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458235101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script src=\"js/test.js\"></script>\n+    <script src=\"{{resource_path()}}/test.js\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458274912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,12 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script src=\"{{resource_path()}}/test.js\"></script>\n+    <script>\n+        alert(\"xxxxxxxxxxxxx\");\n+\n+    </script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458331861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script>\n-        alert(\"xxxxxxxxxxxxx\");\n-\n-    </script>\n+    <script src=\"/js/someScript.min.js\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458503607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-    <script src=\"/js/someScript.min.js\"></script>\n+<script src=\"{{ asset('js/auto.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458524614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('js/auto.js') }}\"></script>\n+<script src=\"{{ asset('js/test.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458628741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,54 +55,10 @@\n             }\n \n         });\n \n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n \n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n \n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n         // edit employee ajax request\n         $(document).on('click', '.editIcon', function(e) {\n             e.preventDefault();\n \n"
                },
                {
                    "date": 1653458637976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('js/test.js') }}\"></script>\n+<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653458708223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,103 +48,13 @@\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n \n-        });\n \n \n \n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n \n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n         // delete employee ajax request\n         $(document).on('click', '.deleteIcon', function(e) {\n             e.preventDefault();\n             let id = $(this).attr('id');\n"
                },
                {
                    "date": 1653458744010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,13 +48,103 @@\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n \n+        });\n \n \n \n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n \n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n         // delete employee ajax request\n         $(document).on('click', '.deleteIcon', function(e) {\n             e.preventDefault();\n             let id = $(this).attr('id');\n"
                },
                {
                    "date": 1653458814050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,173 +48,11 @@\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n \n-        });\n \n \n \n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                \"targets\": [5],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [4, 5]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n+ \n     </script>\n @endpush\n"
                },
                {
                    "date": 1653458876648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,11 +48,217 @@\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n \n+        });\n \n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n \n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n \n- \n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n+                        ]\n+                    });\n+\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n+        }\n     </script>\n @endpush\n"
                },
                {
                    "date": 1653458892904,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,21 +33,10 @@\n @section('pagescript')\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n-    <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n+    <script></script>\n \n-            }\n-        });\n-    </script>\n-\n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n         $.ajaxSetup({\n             headers: {\n"
                },
                {
                    "date": 1653458907799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,21 @@\n @section('pagescript')\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n-    <script></script>\n+    <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n+            }\n+        });\n+    </script>\n+\n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n         $.ajaxSetup({\n             headers: {\n"
                },
                {
                    "date": 1653458915781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,218 +47,6 @@\n         });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n-\n-        });\n-\n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n-\n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                \"targets\": [5],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [4, 5]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n-    </script>\n+    <script></script>\n @endpush\n"
                },
                {
                    "date": 1653458936623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,6 +47,218 @@\n         });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script></script>\n+    <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n+\n+        });\n+\n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n+\n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n+                        ]\n+                    });\n+\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n+        }\n+    </script>\n @endpush\n"
                },
                {
                    "date": 1653458974058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,18 +34,9 @@\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n \n-            }\n-        });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n"
                },
                {
                    "date": 1653459019710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,16 +30,17 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n+<script src=\"{{ asset('auto.js') }}\"></script>\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n \n     </script>\n \n-    <script src=\"{{ asset('auto.js') }}\"></script>\n+    \n     <script>\n         $.ajaxSetup({\n             headers: {\n                 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n"
                },
                {
                    "date": 1653459036844,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,14 +40,9 @@\n     </script>\n \n     \n     <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n \n-        });\n \n         $(\"button#addDocument\").click(function(e) {\n             e.preventDefault();\n \n"
                },
                {
                    "date": 1653459072786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,86 +42,10 @@\n     \n     <script>\n \n \n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n \n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n \n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n         // update employee ajax request\n \n         $(\"button#updateDocument\").click(function(e) {\n             e.preventDefault();\n"
                },
                {
                    "date": 1653459137859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,86 @@\n     \n     <script>\n \n \n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n \n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n \n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n         // update employee ajax request\n \n         $(\"button#updateDocument\").click(function(e) {\n             e.preventDefault();\n"
                },
                {
                    "date": 1653459368313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,19 +30,32 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('auto.js') }}\"></script>\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n+            }\n+        });\n     </script>\n \n-    \n+    <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n \n+        });\n \n         $(\"button#addDocument\").click(function(e) {\n             e.preventDefault();\n \n"
                },
                {
                    "date": 1653459418795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,18 +34,9 @@\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n \n-            }\n-        });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n"
                },
                {
                    "date": 1653459448797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,16 +30,17 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n+<script src=\"{{ asset('auto.js') }}\"></script>\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n     <script>\n \n     </script>\n \n-    <script src=\"{{ asset('auto.js') }}\"></script>\n+    \n     <script>\n         $.ajaxSetup({\n             headers: {\n                 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n"
                },
                {
                    "date": 1653459483443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,217 +40,6 @@\n     </script>\n \n     \n     <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n-\n-        });\n-\n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n-\n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                \"targets\": [5],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [4, 5]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n     </script>\n @endpush\n"
                },
                {
                    "date": 1653459526167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,17 +29,234 @@\n             {{-- Document modal end --}}\n         </div>\n     </div>\n @endsection\n-@section('pagescript')\n-<script src=\"{{ asset('auto.js') }}\"></script>\n-<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n-@stop\n+\n @push('js')\n     <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n+            }\n+        });\n     </script>\n \n-    \n+    <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n+\n+        });\n+\n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n+\n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n+                        ]\n+                    });\n+\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n+        }\n     </script>\n @endpush\n"
                },
                {
                    "date": 1653459917063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,234 +29,10 @@\n             {{-- Document modal end --}}\n         </div>\n     </div>\n @endsection\n-\n+@section('pagescript')\n+<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n+@stop\n @push('js')\n-    <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n \n-            }\n-        });\n-    </script>\n-\n-    <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n-\n-        });\n-\n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n-\n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                \"targets\": [5],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [4, 5]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n-    </script>\n @endpush\n"
                },
                {
                    "date": 1653459932746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,6 +33,232 @@\n @section('pagescript')\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n @stop\n @push('js')\n+    <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n+            }\n+        });\n+    </script>\n+\n+    <script src=\"{{ asset('auto.js') }}\"></script>\n+    <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n+\n+        });\n+\n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n+\n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n+                        ]\n+                    });\n+\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n+        }\n+    </script>\n @endpush\n"
                },
                {
                    "date": 1653459951652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n+{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653460055192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n     </div>\n @endsection\n @section('pagescript')\n {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n+<script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> \n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653460088493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,218 +48,6 @@\n         });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n-\n-        });\n-\n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n-\n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                \"targets\": [5],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [4, 5]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n-    </script>\n+    <script></script>\n @endpush\n"
                },
                {
                    "date": 1653460120383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,6 +48,218 @@\n         });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script></script>\n+    <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n+\n+        });\n+\n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n+\n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n+        // fetch all employees ajax request\n+        fetchAllDocuments();\n+\n+        function fetchAllDocuments() {\n+            $.ajax({\n+                url: '{{ route('fetchAll') }}',\n+                method: 'get',\n+                success: function(response) {\n+                    $(\"#show_all_documents\").html(response);\n+                    var table = $('#myTable').DataTable({\n+                        \"order\": [\n+                            [5, \"desc\"]\n+                        ],\n+                        columnDefs: [{\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                \"targets\": [5],\n+                                \"visible\": false,\n+                                \"searchable\": false\n+                            },\n+                            {\n+                                orderable: false,\n+                                targets: [4, 5]\n+                            }\n+                        ]\n+                    });\n+\n+                    table.columns().iterator('column', function(ctx, idx) {\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n+                    });\n+                }\n+            });\n+        }\n+    </script>\n @endpush\n"
                },
                {
                    "date": 1653460143062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n     </div>\n @endsection\n @section('pagescript')\n {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-<script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> \n+{{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @stop\n @push('js')\n     <script>\n         $(document).ready(function() {\n"
                },
                {
                    "date": 1653460223067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                         )\n                         fetchAllDocuments();\n                     }\n                     $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n+                    // $(\"#addDocumentForm\")[0].reset();\n                     $(\"#addDocumentModal\").modal('hide');\n                 }\n             });\n         });\n"
                },
                {
                    "date": 1653460275709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                         )\n                         fetchAllDocuments();\n                     }\n                     $(\"button#addDocument\").text('Add Document');\n-                    // $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentForm\")[0].reset();\n                     $(\"#addDocumentModal\").modal('hide');\n                 }\n             });\n         });\n@@ -182,9 +182,9 @@\n                         fetchAllDocuments();\n                     }\n                     $(\"#editDocumentModal\").modal('hide');\n                     $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n+                    // $(\"#update_document_form\")[0].reset();\n \n                 }\n             });\n         });\n"
                },
                {
                    "date": 1653460299929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,8 @@\n                         fetchAllDocuments();\n                     }\n                     $(\"#editDocumentModal\").modal('hide');\n                     $(\"button#updateDocument\").text('Update Document');\n-                    // $(\"#update_document_form\")[0].reset();\n \n                 }\n             });\n         });\n"
                },
                {
                    "date": 1653460527622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n @endsection\n @section('pagescript')\n {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n-@stop\n+@endsection\n @push('js')\n     <script>\n         $(document).ready(function() {\n             // Javascript method's body can be found in assets/js/demos.js\n"
                },
                {
                    "date": 1653460533086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,11 @@\n     </div>\n @endsection\n @section('pagescript')\n {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-{{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n+<script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> \n @endsection\n+\n @push('js')\n     <script>\n         $(document).ready(function() {\n             // Javascript method's body can be found in assets/js/demos.js\n"
                },
                {
                    "date": 1653460615679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,38 +104,38 @@\n             });\n         });\n \n         // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n+        // $(document).on('click', '.editIcon', function(e) {\n+        //     e.preventDefault();\n \n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n+        //     let id = $(this).attr('id');\n+        //     $.ajax({\n+        //         url: \"{{ route('edit.doc') }}\",\n+        //         method: 'get',\n+        //         data: {\n+        //             id: id,\n+        //             _token: '{{ csrf_token() }}'\n+        //         },\n+        //         success: function(response) {\n \n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n+        //             dr = response[0].date_received;\n+        //             for (let x in response[0]) {\n \n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n+        //                 var el = document.querySelector('#updateDocument');\n+        //                 el.setAttribute('data-id', id);\n \n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n+        //                 if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+        //                 else {\n+        //                     name = x.replace('_id', '');\n \n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n+        //                     $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+        //                     $(\"#editDocumentModal #\" + x).val(response[name]);\n+        //                 }\n+        //             }\n+        //         }\n+        //     });\n+        // });\n \n         // update employee ajax request\n \n         $(\"button#updateDocument\").click(function(e) {\n"
                },
                {
                    "date": 1653460631879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,10 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-<script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> \n+<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n+{{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @endsection\n \n @push('js')\n     <script>\n"
                },
                {
                    "date": 1653460642873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n+{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @endsection\n \n @push('js')\n@@ -104,38 +104,38 @@\n             });\n         });\n \n         // edit employee ajax request\n-        // $(document).on('click', '.editIcon', function(e) {\n-        //     e.preventDefault();\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n \n-        //     let id = $(this).attr('id');\n-        //     $.ajax({\n-        //         url: \"{{ route('edit.doc') }}\",\n-        //         method: 'get',\n-        //         data: {\n-        //             id: id,\n-        //             _token: '{{ csrf_token() }}'\n-        //         },\n-        //         success: function(response) {\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n \n-        //             dr = response[0].date_received;\n-        //             for (let x in response[0]) {\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n \n-        //                 var el = document.querySelector('#updateDocument');\n-        //                 el.setAttribute('data-id', id);\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n \n-        //                 if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-        //                 else {\n-        //                     name = x.replace('_id', '');\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n \n-        //                     $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-        //                     $(\"#editDocumentModal #\" + x).val(response[name]);\n-        //                 }\n-        //             }\n-        //         }\n-        //     });\n-        // });\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n \n         // update employee ajax request\n \n         $(\"button#updateDocument\").click(function(e) {\n"
                },
                {
                    "date": 1653460743966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,18 +36,9 @@\n @endsection\n \n @push('js')\n     <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n \n-            }\n-        });\n     </script>\n \n     <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n"
                },
                {
                    "date": 1653460758865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n+<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @endsection\n \n @push('js')\n"
                },
                {
                    "date": 1653460795828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n+<script src=\"{{ asset('auto.js') }}\"></script>\n <script src=\"{{ asset('js/add_doc.js') }}\"></script>\n {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @endsection\n \n@@ -39,9 +40,9 @@\n     <script>\n \n     </script>\n \n-    <script src=\"{{ asset('auto.js') }}\"></script>\n+\n     <script>\n         $.ajaxSetup({\n             headers: {\n                 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n"
                },
                {
                    "date": 1653460818753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,14 +42,9 @@\n     </script>\n \n \n     <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n \n-        });\n \n         $(\"button#addDocument\").click(function(e) {\n             e.preventDefault();\n \n"
                },
                {
                    "date": 1653460849948,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,175 +44,10 @@\n \n     <script>\n \n \n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n \n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n \n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n         // fetch all employees ajax request\n         fetchAllDocuments();\n \n         function fetchAllDocuments() {\n"
                },
                {
                    "date": 1653460901817,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,24 +30,202 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-<script src=\"{{ asset('auto.js') }}\"></script>\n-<script src=\"{{ asset('js/add_doc.js') }}\"></script>\n+{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n @endsection\n \n @push('js')\n     <script>\n+        $(document).ready(function() {\n+            // Javascript method's body can be found in assets/js/demos.js\n+            md.initDashboardPageCharts();\n+            if ($('.alert').length) {\n+                setInterval(() => {\n+                    $('.alert').addClass(\"fadeOutUp\");\n+                }, 3000);\n \n+            }\n+        });\n     </script>\n \n-\n+    <script src=\"{{ asset('auto.js') }}\"></script>\n     <script>\n+        $.ajaxSetup({\n+            headers: {\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+            }\n \n+        });\n \n+        $(\"button#addDocument\").click(function(e) {\n+            e.preventDefault();\n \n+            var date_received = $(\"input[name=date_received]\").val();\n+            var deadline = $(\"input[name=deadline]\").val();\n+            var subject = $(\"input[name=subject]\").val();\n+            var origin_id = $(\"input[name=origin_id]\").val();\n+            var employee_id = $(\"input[name=employee_id]\").val();\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\n+            var mor_id = $(\"input[name=mor_id]\").val();\n+            var control_number = $(\"input[name=control_number]\").val();\n \n+            $(this).text('Adding...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: \"{{ route('storeAjax') }}\",\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number\n+\n+                },\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Added!',\n+                            'Document Added Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"button#addDocument\").text('Add Document');\n+                    $(\"#addDocumentForm\")[0].reset();\n+                    $(\"#addDocumentModal\").modal('hide');\n+                }\n+            });\n+        });\n+\n+        // edit employee ajax request\n+        $(document).on('click', '.editIcon', function(e) {\n+            e.preventDefault();\n+\n+            let id = $(this).attr('id');\n+            $.ajax({\n+                url: \"{{ route('edit.doc') }}\",\n+                method: 'get',\n+                data: {\n+                    id: id,\n+                    _token: '{{ csrf_token() }}'\n+                },\n+                success: function(response) {\n+\n+                    dr = response[0].date_received;\n+                    for (let x in response[0]) {\n+\n+                        var el = document.querySelector('#updateDocument');\n+                        el.setAttribute('data-id', id);\n+\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n+                        else {\n+                            name = x.replace('_id', '');\n+\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\n+                        }\n+                    }\n+                }\n+            });\n+        });\n+\n+        // update employee ajax request\n+\n+        $(\"button#updateDocument\").click(function(e) {\n+            e.preventDefault();\n+\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n+            var el = document.querySelector(\"button#updateDocument\");\n+            var id = el.getAttribute('data-id');\n+            // var id = 38;\n+\n+            $(this).text('Updating...');\n+\n+            $.ajax({\n+                type: 'POST',\n+                url: '{{ route('update.doc') }}',\n+                data: {\n+\n+                    date_received: date_received,\n+                    deadline: deadline,\n+                    subject: subject,\n+                    origin_id: origin_id,\n+                    employee_id: employee_id,\n+                    doctype_id: doctype_id,\n+                    mor_id: mor_id,\n+                    control_number: control_number,\n+                    id: id\n+\n+                },\n+                method: 'put',\n+                success: function(data) {\n+                    // console.log(data.success);\n+                    if (data.status == 200) {\n+                        Swal.fire(\n+                            'Updated!',\n+                            'Document Updated Successfully!',\n+                            'success'\n+                        )\n+                        fetchAllDocuments();\n+                    }\n+                    $(\"#editDocumentModal\").modal('hide');\n+                    $(\"button#updateDocument\").text('Update Document');\n+\n+                }\n+            });\n+        });\n+\n+        // delete employee ajax request\n+        $(document).on('click', '.deleteIcon', function(e) {\n+            e.preventDefault();\n+            let id = $(this).attr('id');\n+            let csrf = '{{ csrf_token() }}';\n+            Swal.fire({\n+                title: 'Are you sure?',\n+                text: \"You won't be able to revert this!\",\n+                icon: 'warning',\n+                showCancelButton: true,\n+                confirmButtonColor: '#3085d6',\n+                cancelButtonColor: '#d33',\n+                confirmButtonText: 'Yes, delete it!'\n+            }).then((result) => {\n+                if (result.isConfirmed) {\n+                    $.ajax({\n+                        url: '{{ route('delete') }}',\n+                        method: 'delete',\n+                        data: {\n+                            id: id,\n+                            _token: csrf\n+                        },\n+                        success: function(response) {\n+                            // console.log(response);\n+                            Swal.fire(\n+                                'Deleted!',\n+                                'Your file has been deleted.',\n+                                'success'\n+                            )\n+                            fetchAllDocuments();\n+                        }\n+                    });\n+                }\n+            })\n+        });\n+\n         // fetch all employees ajax request\n         fetchAllDocuments();\n \n         function fetchAllDocuments() {\n"
                },
                {
                    "date": 1653465283339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,10 @@\n         </div>\n     </div>\n @endsection\n @section('pagescript')\n-{{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-{{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script>  --}}\n+    {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n+    {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> --}}\n @endsection\n \n @push('js')\n     <script>\n@@ -243,15 +243,19 @@\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n                             {\n-                                \"targets\": [5],\n+                                target: 3,\n+                                visible: false,\n+                            },\n+                            {\n+                                \"targets\": [6],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n                             {\n                                 orderable: false,\n-                                targets: [4, 5]\n+                                targets: [5, 6]\n                             }\n                         ]\n                     });\n \n"
                },
                {
                    "date": 1653465299434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,17 +238,17 @@\n                         \"order\": [\n                             [5, \"desc\"]\n                         ],\n                         columnDefs: [{\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n+                            //     \"targets\": [0],\n+                            //     \"visible\": false,\n+                            //     \"searchable\": false\n+                            // },\n+                            // {\n+                            //     target: 3,\n+                            //     visible: false,\n+                            // },\n                             {\n-                                target: 3,\n-                                visible: false,\n-                            },\n-                            {\n                                 \"targets\": [6],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n"
                },
                {
                    "date": 1653465313775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,9 +237,10 @@\n                     var table = $('#myTable').DataTable({\n                         \"order\": [\n                             [5, \"desc\"]\n                         ],\n-                        columnDefs: [{\n+                        columnDefs: [\n+                            // {\n                             //     \"targets\": [0],\n                             //     \"visible\": false,\n                             //     \"searchable\": false\n                             // },\n"
                },
                {
                    "date": 1653465348552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,13 +243,13 @@\n                             //     \"targets\": [0],\n                             //     \"visible\": false,\n                             //     \"searchable\": false\n                             // },\n-                            // {\n-                            //     target: 3,\n-                            //     visible: false,\n-                            // },\n                             {\n+                                target: 3,\n+                                visible: false,\n+                            },\n+                            {\n                                 \"targets\": [6],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n"
                },
                {
                    "date": 1653465363886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n                             //     \"visible\": false,\n                             //     \"searchable\": false\n                             // },\n                             {\n-                                target: 3,\n+                                target: 2,\n                                 visible: false,\n                             },\n                             {\n                                 \"targets\": [6],\n"
                },
                {
                    "date": 1653465384220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,17 +238,14 @@\n                         \"order\": [\n                             [5, \"desc\"]\n                         ],\n                         columnDefs: [\n-                            // {\n-                            //     \"targets\": [0],\n-                            //     \"visible\": false,\n-                            //     \"searchable\": false\n-                            // },\n                             {\n-                                target: 2,\n-                                visible: false,\n+                                \"targets\": [0],\n+                                \"visible\": false,\n+                                \"searchable\": false\n                             },\n+       \n                             {\n                                 \"targets\": [6],\n                                 \"visible\": false,\n                                 \"searchable\": false\n"
                },
                {
                    "date": 1653465398337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,9 +239,9 @@\n                             [5, \"desc\"]\n                         ],\n                         columnDefs: [\n                             {\n-                                \"targets\": [0],\n+                                \"targets\": [3],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n        \n"
                },
                {
                    "date": 1653465418989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,14 +239,19 @@\n                             [5, \"desc\"]\n                         ],\n                         columnDefs: [\n                             {\n-                                \"targets\": [3],\n+                                \"targets\": [0],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n        \n                             {\n+                                \"targets\": [3],\n+                                \"visible\": false,\n+                            },\n+       \n+                            {\n                                 \"targets\": [6],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n"
                },
                {
                    "date": 1653468259657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,12 +29,8 @@\n             {{-- Document modal end --}}\n         </div>\n     </div>\n @endsection\n-@section('pagescript')\n-    {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-    {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> --}}\n-@endsection\n \n @push('js')\n     <script>\n         $(document).ready(function() {\n@@ -183,8 +179,9 @@\n                         fetchAllDocuments();\n                     }\n                     $(\"#editDocumentModal\").modal('hide');\n                     $(\"button#updateDocument\").text('Update Document');\n+                    $(\"#update_document_form\")[0].reset();\n \n                 }\n             });\n         });\n@@ -237,28 +234,21 @@\n                     var table = $('#myTable').DataTable({\n                         \"order\": [\n                             [5, \"desc\"]\n                         ],\n-                        columnDefs: [\n-                            {\n+                        columnDefs: [{\n                                 \"targets\": [0],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n-       \n                             {\n-                                \"targets\": [3],\n+                                \"targets\": [5],\n                                 \"visible\": false,\n-                            },\n-       \n-                            {\n-                                \"targets\": [6],\n-                                \"visible\": false,\n                                 \"searchable\": false\n                             },\n                             {\n                                 orderable: false,\n-                                targets: [5, 6]\n+                                targets: [4, 5]\n                             }\n                         ]\n                     });\n \n"
                },
                {
                    "date": 1653468271127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,12 @@\n             {{-- Document modal end --}}\n         </div>\n     </div>\n @endsection\n+@section('pagescript')\n+    {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n+    {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> --}}\n+@endsection\n \n @push('js')\n     <script>\n         $(document).ready(function() {\n@@ -179,9 +183,8 @@\n                         fetchAllDocuments();\n                     }\n                     $(\"#editDocumentModal\").modal('hide');\n                     $(\"button#updateDocument\").text('Update Document');\n-                    $(\"#update_document_form\")[0].reset();\n \n                 }\n             });\n         });\n@@ -234,21 +237,28 @@\n                     var table = $('#myTable').DataTable({\n                         \"order\": [\n                             [5, \"desc\"]\n                         ],\n-                        columnDefs: [{\n+                        columnDefs: [\n+                            {\n                                 \"targets\": [0],\n                                 \"visible\": false,\n                                 \"searchable\": false\n                             },\n+       \n                             {\n-                                \"targets\": [5],\n+                                \"targets\": [3],\n                                 \"visible\": false,\n+                            },\n+       \n+                            {\n+                                \"targets\": [6],\n+                                \"visible\": false,\n                                 \"searchable\": false\n                             },\n                             {\n                                 orderable: false,\n-                                targets: [4, 5]\n+                                targets: [5, 6]\n                             }\n                         ]\n                     });\n \n"
                },
                {
                    "date": 1653961122034,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,272 +1,272 @@\n-@extends('layouts.app', ['activePage' => 'dashboard', 'titlePage' => __('Dashboard')])\n-\n-@section('content')\n-    <div class=\"content\">\n-        <div class=\"container-fluid\">\n-            @include('layouts.components.status_nav')\n-            @include('layouts.components.notification')\n-            <div class=\"row my-5\">\n-                <div class=\"col-lg-12\">\n-                    <div class=\"card shadow\">\n-                        <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\n-                            <h3 class=\"text-light\">{{ __('Documents') }}</h3>\n-                            {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\n-                            <button type=\"button\" class=\"btn btn-light\" data-toggle=\"modal\" data-target=\"#addDocumentModal\">\n-                                <i class=\"bi-plus-circle me-2\"></i> Add New Document</button>\n-                        </div>\n-\n-                        <div class=\"card-body \" id=\"show_all_documents\">\n-                            @include('layouts.components.loader')\n-\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            {{-- Document modal start --}}\n-            @include('layouts.document.add')\n-            @include('layouts.document.edit')\n-            {{-- Document modal end --}}\n-        </div>\n-    </div>\n-@endsection\n-@section('pagescript')\n-    {{-- <script src=\"{{ asset('js/add_doc.js') }}\"></script> --}}\n-    {{-- <script type=\"text/javascript\" src=\"{{ URL::asset('js/add_doc.js') }}\"></script> --}}\n-@endsection\n-\n-@push('js')\n-    <script>\n-        $(document).ready(function() {\n-            // Javascript method's body can be found in assets/js/demos.js\n-            md.initDashboardPageCharts();\n-            if ($('.alert').length) {\n-                setInterval(() => {\n-                    $('.alert').addClass(\"fadeOutUp\");\n-                }, 3000);\n-\n-            }\n-        });\n-    </script>\n-\n-    <script src=\"{{ asset('auto.js') }}\"></script>\n-    <script>\n-        $.ajaxSetup({\n-            headers: {\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-            }\n-\n-        });\n-\n-        $(\"button#addDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"input[name=date_received]\").val();\n-            var deadline = $(\"input[name=deadline]\").val();\n-            var subject = $(\"input[name=subject]\").val();\n-            var origin_id = $(\"input[name=origin_id]\").val();\n-            var employee_id = $(\"input[name=employee_id]\").val();\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\n-            var mor_id = $(\"input[name=mor_id]\").val();\n-            var control_number = $(\"input[name=control_number]\").val();\n-\n-            $(this).text('Adding...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: \"{{ route('storeAjax') }}\",\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number\n-\n-                },\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Added!',\n-                            'Document Added Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"button#addDocument\").text('Add Document');\n-                    $(\"#addDocumentForm\")[0].reset();\n-                    $(\"#addDocumentModal\").modal('hide');\n-                }\n-            });\n-        });\n-\n-        // edit employee ajax request\n-        $(document).on('click', '.editIcon', function(e) {\n-            e.preventDefault();\n-\n-            let id = $(this).attr('id');\n-            $.ajax({\n-                url: \"{{ route('edit.doc') }}\",\n-                method: 'get',\n-                data: {\n-                    id: id,\n-                    _token: '{{ csrf_token() }}'\n-                },\n-                success: function(response) {\n-\n-                    dr = response[0].date_received;\n-                    for (let x in response[0]) {\n-\n-                        var el = document.querySelector('#updateDocument');\n-                        el.setAttribute('data-id', id);\n-\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n-                        else {\n-                            name = x.replace('_id', '');\n-\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\n-                        }\n-                    }\n-                }\n-            });\n-        });\n-\n-        // update employee ajax request\n-\n-        $(\"button#updateDocument\").click(function(e) {\n-            e.preventDefault();\n-\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\n-            var el = document.querySelector(\"button#updateDocument\");\n-            var id = el.getAttribute('data-id');\n-            // var id = 38;\n-\n-            $(this).text('Updating...');\n-\n-            $.ajax({\n-                type: 'POST',\n-                url: '{{ route('update.doc') }}',\n-                data: {\n-\n-                    date_received: date_received,\n-                    deadline: deadline,\n-                    subject: subject,\n-                    origin_id: origin_id,\n-                    employee_id: employee_id,\n-                    doctype_id: doctype_id,\n-                    mor_id: mor_id,\n-                    control_number: control_number,\n-                    id: id\n-\n-                },\n-                method: 'put',\n-                success: function(data) {\n-                    // console.log(data.success);\n-                    if (data.status == 200) {\n-                        Swal.fire(\n-                            'Updated!',\n-                            'Document Updated Successfully!',\n-                            'success'\n-                        )\n-                        fetchAllDocuments();\n-                    }\n-                    $(\"#editDocumentModal\").modal('hide');\n-                    $(\"button#updateDocument\").text('Update Document');\n-\n-                }\n-            });\n-        });\n-\n-        // delete employee ajax request\n-        $(document).on('click', '.deleteIcon', function(e) {\n-            e.preventDefault();\n-            let id = $(this).attr('id');\n-            let csrf = '{{ csrf_token() }}';\n-            Swal.fire({\n-                title: 'Are you sure?',\n-                text: \"You won't be able to revert this!\",\n-                icon: 'warning',\n-                showCancelButton: true,\n-                confirmButtonColor: '#3085d6',\n-                cancelButtonColor: '#d33',\n-                confirmButtonText: 'Yes, delete it!'\n-            }).then((result) => {\n-                if (result.isConfirmed) {\n-                    $.ajax({\n-                        url: '{{ route('delete') }}',\n-                        method: 'delete',\n-                        data: {\n-                            id: id,\n-                            _token: csrf\n-                        },\n-                        success: function(response) {\n-                            // console.log(response);\n-                            Swal.fire(\n-                                'Deleted!',\n-                                'Your file has been deleted.',\n-                                'success'\n-                            )\n-                            fetchAllDocuments();\n-                        }\n-                    });\n-                }\n-            })\n-        });\n-\n-        // fetch all employees ajax request\n-        fetchAllDocuments();\n-\n-        function fetchAllDocuments() {\n-            $.ajax({\n-                url: '{{ route('fetchAll') }}',\n-                method: 'get',\n-                success: function(response) {\n-                    $(\"#show_all_documents\").html(response);\n-                    var table = $('#myTable').DataTable({\n-                        \"order\": [\n-                            [5, \"desc\"]\n-                        ],\n-                        columnDefs: [\n-                            {\n-                                \"targets\": [0],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-       \n-                            {\n-                                \"targets\": [3],\n-                                \"visible\": false,\n-                            },\n-       \n-                            {\n-                                \"targets\": [6],\n-                                \"visible\": false,\n-                                \"searchable\": false\n-                            },\n-                            {\n-                                orderable: false,\n-                                targets: [5, 6]\n-                            }\n-                        ]\n-                    });\n-\n-                    table.columns().iterator('column', function(ctx, idx) {\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n-                    });\n-                }\n-            });\n-        }\n-    </script>\n-@endpush\n+@extends('layouts.app', ['activePage' => 'dashboard', 'titlePage' => __('Dashboard')])\r\n+\r\n+@section('content')\r\n+    <div class=\"content\">\r\n+        <div class=\"container-fluid\">\r\n+            @include('layouts.components.status_nav')\r\n+            @include('layouts.components.notification')\r\n+            <div class=\"row my-5\">\r\n+                <div class=\"col-lg-12\">\r\n+                    <div class=\"card shadow\">\r\n+                        <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\r\n+                            <h3 class=\"text-light\">{{ __('Documents') }}</h3>\r\n+                            {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\r\n+                            <button type=\"button\" class=\"btn btn-light\" data-toggle=\"modal\" data-target=\"#addDocumentModal\">\r\n+                                <i class=\"bi-plus-circle me-2\"></i> Add New Document</button>\r\n+                        </div>\r\n+\r\n+                        <div class=\"card-body \" id=\"show_all_documents\">\r\n+                            @include('layouts.components.loader')\r\n+\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            {{-- Document modal start --}}\r\n+            @include('layouts.document.add')\r\n+            @include('layouts.document.edit')\r\n+            {{-- Document modal end --}}\r\n+        </div>\r\n+    </div>\r\n+@endsection\r\n+@push('footer')\r\n+<script src=\"{{ asset('js/document_add.js')}}\"></script>\r\n+    \r\n+@endpush\r\n+\r\n+@push('js')\r\n+    <script>\r\n+        $(document).ready(function() {\r\n+            // Javascript method's body can be found in assets/js/demos.js\r\n+            md.initDashboardPageCharts();\r\n+            if ($('.alert').length) {\r\n+                setInterval(() => {\r\n+                    $('.alert').addClass(\"fadeOutUp\");\r\n+                }, 3000);\r\n+\r\n+            }\r\n+        });\r\n+    </script>\r\n+\r\n+    <script src=\"{{ asset('auto.js') }}\"></script>\r\n+    <script>\r\n+        $.ajaxSetup({\r\n+            headers: {\r\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n+            }\r\n+\r\n+        });\r\n+\r\n+        $(\"button#addDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"input[name=date_received]\").val();\r\n+            var deadline = $(\"input[name=deadline]\").val();\r\n+            var subject = $(\"input[name=subject]\").val();\r\n+            var origin_id = $(\"input[name=origin_id]\").val();\r\n+            var employee_id = $(\"input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"input[name=mor_id]\").val();\r\n+            var control_number = $(\"input[name=control_number]\").val();\r\n+\r\n+            $(this).text('Adding...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: \"{{ route('storeAjax') }}\",\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number\r\n+\r\n+                },\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Added!',\r\n+                            'Document Added Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"button#addDocument\").text('Add Document');\r\n+                    $(\"#addDocumentForm\")[0].reset();\r\n+                    $(\"#addDocumentModal\").modal('hide');\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // edit employee ajax request\r\n+        $(document).on('click', '.editIcon', function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            let id = $(this).attr('id');\r\n+            $.ajax({\r\n+                url: \"{{ route('edit.doc') }}\",\r\n+                method: 'get',\r\n+                data: {\r\n+                    id: id,\r\n+                    _token: '{{ csrf_token() }}'\r\n+                },\r\n+                success: function(response) {\r\n+\r\n+                    dr = response[0].date_received;\r\n+                    for (let x in response[0]) {\r\n+\r\n+                        var el = document.querySelector('#updateDocument');\r\n+                        el.setAttribute('data-id', id);\r\n+\r\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n+                        else {\r\n+                            name = x.replace('_id', '');\r\n+\r\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // update employee ajax request\r\n+\r\n+        $(\"button#updateDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n+            var el = document.querySelector(\"button#updateDocument\");\r\n+            var id = el.getAttribute('data-id');\r\n+            // var id = 38;\r\n+\r\n+            $(this).text('Updating...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: '{{ route('update.doc') }}',\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number,\r\n+                    id: id\r\n+\r\n+                },\r\n+                method: 'put',\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Updated!',\r\n+                            'Document Updated Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"#editDocumentModal\").modal('hide');\r\n+                    $(\"button#updateDocument\").text('Update Document');\r\n+\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // delete employee ajax request\r\n+        $(document).on('click', '.deleteIcon', function(e) {\r\n+            e.preventDefault();\r\n+            let id = $(this).attr('id');\r\n+            let csrf = '{{ csrf_token() }}';\r\n+            Swal.fire({\r\n+                title: 'Are you sure?',\r\n+                text: \"You won't be able to revert this!\",\r\n+                icon: 'warning',\r\n+                showCancelButton: true,\r\n+                confirmButtonColor: '#3085d6',\r\n+                cancelButtonColor: '#d33',\r\n+                confirmButtonText: 'Yes, delete it!'\r\n+            }).then((result) => {\r\n+                if (result.isConfirmed) {\r\n+                    $.ajax({\r\n+                        url: '{{ route('delete') }}',\r\n+                        method: 'delete',\r\n+                        data: {\r\n+                            id: id,\r\n+                            _token: csrf\r\n+                        },\r\n+                        success: function(response) {\r\n+                            // console.log(response);\r\n+                            Swal.fire(\r\n+                                'Deleted!',\r\n+                                'Your file has been deleted.',\r\n+                                'success'\r\n+                            )\r\n+                            fetchAllDocuments();\r\n+                        }\r\n+                    });\r\n+                }\r\n+            })\r\n+        });\r\n+\r\n+        // fetch all employees ajax request\r\n+        fetchAllDocuments();\r\n+\r\n+        function fetchAllDocuments() {\r\n+            $.ajax({\r\n+                url: '{{ route('fetchAll') }}',\r\n+                method: 'get',\r\n+                success: function(response) {\r\n+                    $(\"#show_all_documents\").html(response);\r\n+                    var table = $('#myTable').DataTable({\r\n+                        \"order\": [\r\n+                            [5, \"desc\"]\r\n+                        ],\r\n+                        columnDefs: [\r\n+                            {\r\n+                                \"targets\": [0],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [3],\r\n+                                \"visible\": false,\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [6],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+                            {\r\n+                                orderable: false,\r\n+                                targets: [5, 6]\r\n+                            }\r\n+                        ]\r\n+                    });\r\n+\r\n+                    table.columns().iterator('column', function(ctx, idx) {\r\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n+                    });\r\n+                }\r\n+            });\r\n+        }\r\n+    </script>\r\n+@endpush\r\n"
                },
                {
                    "date": 1653961387945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,10 @@\n         </div>\r\n     </div>\r\n @endsection\r\n @push('footer')\r\n-<script src=\"{{ asset('js/document_add.js')}}\"></script>\r\n+{{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n+<script src=\"{{ asset('js/test.js')}}\"></script>\r\n     \r\n @endpush\r\n \r\n @push('js')\r\n"
                },
                {
                    "date": 1653961471502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,11 @@\n     </div>\r\n @endsection\r\n @push('footer')\r\n {{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n+<script>\r\n+    alert('sssssssssssss');\r\n+</script>\r\n <script src=\"{{ asset('js/test.js')}}\"></script>\r\n     \r\n @endpush\r\n \r\n"
                },
                {
                    "date": 1653961548666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,11 +31,8 @@\n     </div>\r\n @endsection\r\n @push('footer')\r\n {{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n-<script>\r\n-    alert('sssssssssssss');\r\n-</script>\r\n <script src=\"{{ asset('js/test.js')}}\"></script>\r\n     \r\n @endpush\r\n \r\n"
                },
                {
                    "date": 1653961616533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n     </div>\r\n @endsection\r\n @push('footer')\r\n {{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n-<script src=\"{{ asset('js/test.js')}}\"></script>\r\n+<script src=\"{{ asset('js/doc_add.js')}}\"></script>\r\n     \r\n @endpush\r\n \r\n @push('js')\r\n"
                },
                {
                    "date": 1653961653338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,224 +50,6 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    <script>\r\n-        $.ajaxSetup({\r\n-            headers: {\r\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n-            }\r\n-\r\n-        });\r\n-\r\n-        $(\"button#addDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"input[name=date_received]\").val();\r\n-            var deadline = $(\"input[name=deadline]\").val();\r\n-            var subject = $(\"input[name=subject]\").val();\r\n-            var origin_id = $(\"input[name=origin_id]\").val();\r\n-            var employee_id = $(\"input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"input[name=mor_id]\").val();\r\n-            var control_number = $(\"input[name=control_number]\").val();\r\n-\r\n-            $(this).text('Adding...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: \"{{ route('storeAjax') }}\",\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number\r\n-\r\n-                },\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Added!',\r\n-                            'Document Added Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"button#addDocument\").text('Add Document');\r\n-                    $(\"#addDocumentForm\")[0].reset();\r\n-                    $(\"#addDocumentModal\").modal('hide');\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // edit employee ajax request\r\n-        $(document).on('click', '.editIcon', function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            let id = $(this).attr('id');\r\n-            $.ajax({\r\n-                url: \"{{ route('edit.doc') }}\",\r\n-                method: 'get',\r\n-                data: {\r\n-                    id: id,\r\n-                    _token: '{{ csrf_token() }}'\r\n-                },\r\n-                success: function(response) {\r\n-\r\n-                    dr = response[0].date_received;\r\n-                    for (let x in response[0]) {\r\n-\r\n-                        var el = document.querySelector('#updateDocument');\r\n-                        el.setAttribute('data-id', id);\r\n-\r\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n-                        else {\r\n-                            name = x.replace('_id', '');\r\n-\r\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // update employee ajax request\r\n-\r\n-        $(\"button#updateDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n-            var el = document.querySelector(\"button#updateDocument\");\r\n-            var id = el.getAttribute('data-id');\r\n-            // var id = 38;\r\n-\r\n-            $(this).text('Updating...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: '{{ route('update.doc') }}',\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number,\r\n-                    id: id\r\n-\r\n-                },\r\n-                method: 'put',\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Updated!',\r\n-                            'Document Updated Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"#editDocumentModal\").modal('hide');\r\n-                    $(\"button#updateDocument\").text('Update Document');\r\n-\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // delete employee ajax request\r\n-        $(document).on('click', '.deleteIcon', function(e) {\r\n-            e.preventDefault();\r\n-            let id = $(this).attr('id');\r\n-            let csrf = '{{ csrf_token() }}';\r\n-            Swal.fire({\r\n-                title: 'Are you sure?',\r\n-                text: \"You won't be able to revert this!\",\r\n-                icon: 'warning',\r\n-                showCancelButton: true,\r\n-                confirmButtonColor: '#3085d6',\r\n-                cancelButtonColor: '#d33',\r\n-                confirmButtonText: 'Yes, delete it!'\r\n-            }).then((result) => {\r\n-                if (result.isConfirmed) {\r\n-                    $.ajax({\r\n-                        url: '{{ route('delete') }}',\r\n-                        method: 'delete',\r\n-                        data: {\r\n-                            id: id,\r\n-                            _token: csrf\r\n-                        },\r\n-                        success: function(response) {\r\n-                            // console.log(response);\r\n-                            Swal.fire(\r\n-                                'Deleted!',\r\n-                                'Your file has been deleted.',\r\n-                                'success'\r\n-                            )\r\n-                            fetchAllDocuments();\r\n-                        }\r\n-                    });\r\n-                }\r\n-            })\r\n-        });\r\n-\r\n-        // fetch all employees ajax request\r\n-        fetchAllDocuments();\r\n-\r\n-        function fetchAllDocuments() {\r\n-            $.ajax({\r\n-                url: '{{ route('fetchAll') }}',\r\n-                method: 'get',\r\n-                success: function(response) {\r\n-                    $(\"#show_all_documents\").html(response);\r\n-                    var table = $('#myTable').DataTable({\r\n-                        \"order\": [\r\n-                            [5, \"desc\"]\r\n-                        ],\r\n-                        columnDefs: [\r\n-                            {\r\n-                                \"targets\": [0],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [3],\r\n-                                \"visible\": false,\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [6],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-                            {\r\n-                                orderable: false,\r\n-                                targets: [5, 6]\r\n-                            }\r\n-                        ]\r\n-                    });\r\n-\r\n-                    table.columns().iterator('column', function(ctx, idx) {\r\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n-                    });\r\n-                }\r\n-            });\r\n-        }\r\n-    </script>\r\n+    <script></script>\r\n @endpush\r\n"
                },
                {
                    "date": 1653961746543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,13 +29,8 @@\n             {{-- Document modal end --}}\r\n         </div>\r\n     </div>\r\n @endsection\r\n-@push('footer')\r\n-{{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n-<script src=\"{{ asset('js/doc_add.js')}}\"></script>\r\n-    \r\n-@endpush\r\n \r\n @push('js')\r\n     <script>\r\n         $(document).ready(function() {\r\n@@ -50,6 +45,224 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    <script></script>\r\n+    <script>\r\n+        $.ajaxSetup({\r\n+            headers: {\r\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n+            }\r\n+\r\n+        });\r\n+\r\n+        $(\"button#addDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"input[name=date_received]\").val();\r\n+            var deadline = $(\"input[name=deadline]\").val();\r\n+            var subject = $(\"input[name=subject]\").val();\r\n+            var origin_id = $(\"input[name=origin_id]\").val();\r\n+            var employee_id = $(\"input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"input[name=mor_id]\").val();\r\n+            var control_number = $(\"input[name=control_number]\").val();\r\n+\r\n+            $(this).text('Adding...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: \"{{ route('storeAjax') }}\",\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number\r\n+\r\n+                },\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Added!',\r\n+                            'Document Added Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"button#addDocument\").text('Add Document');\r\n+                    $(\"#addDocumentForm\")[0].reset();\r\n+                    $(\"#addDocumentModal\").modal('hide');\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // edit employee ajax request\r\n+        $(document).on('click', '.editIcon', function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            let id = $(this).attr('id');\r\n+            $.ajax({\r\n+                url: \"{{ route('edit.doc') }}\",\r\n+                method: 'get',\r\n+                data: {\r\n+                    id: id,\r\n+                    _token: '{{ csrf_token() }}'\r\n+                },\r\n+                success: function(response) {\r\n+\r\n+                    dr = response[0].date_received;\r\n+                    for (let x in response[0]) {\r\n+\r\n+                        var el = document.querySelector('#updateDocument');\r\n+                        el.setAttribute('data-id', id);\r\n+\r\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n+                        else {\r\n+                            name = x.replace('_id', '');\r\n+\r\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // update employee ajax request\r\n+\r\n+        $(\"button#updateDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n+            var el = document.querySelector(\"button#updateDocument\");\r\n+            var id = el.getAttribute('data-id');\r\n+            // var id = 38;\r\n+\r\n+            $(this).text('Updating...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: '{{ route('update.doc') }}',\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number,\r\n+                    id: id\r\n+\r\n+                },\r\n+                method: 'put',\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Updated!',\r\n+                            'Document Updated Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"#editDocumentModal\").modal('hide');\r\n+                    $(\"button#updateDocument\").text('Update Document');\r\n+\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // delete employee ajax request\r\n+        $(document).on('click', '.deleteIcon', function(e) {\r\n+            e.preventDefault();\r\n+            let id = $(this).attr('id');\r\n+            let csrf = '{{ csrf_token() }}';\r\n+            Swal.fire({\r\n+                title: 'Are you sure?',\r\n+                text: \"You won't be able to revert this!\",\r\n+                icon: 'warning',\r\n+                showCancelButton: true,\r\n+                confirmButtonColor: '#3085d6',\r\n+                cancelButtonColor: '#d33',\r\n+                confirmButtonText: 'Yes, delete it!'\r\n+            }).then((result) => {\r\n+                if (result.isConfirmed) {\r\n+                    $.ajax({\r\n+                        url: '{{ route('delete') }}',\r\n+                        method: 'delete',\r\n+                        data: {\r\n+                            id: id,\r\n+                            _token: csrf\r\n+                        },\r\n+                        success: function(response) {\r\n+                            // console.log(response);\r\n+                            Swal.fire(\r\n+                                'Deleted!',\r\n+                                'Your file has been deleted.',\r\n+                                'success'\r\n+                            )\r\n+                            fetchAllDocuments();\r\n+                        }\r\n+                    });\r\n+                }\r\n+            })\r\n+        });\r\n+\r\n+        // fetch all employees ajax request\r\n+        fetchAllDocuments();\r\n+\r\n+        function fetchAllDocuments() {\r\n+            $.ajax({\r\n+                url: '{{ route('fetchAll') }}',\r\n+                method: 'get',\r\n+                success: function(response) {\r\n+                    $(\"#show_all_documents\").html(response);\r\n+                    var table = $('#myTable').DataTable({\r\n+                        \"order\": [\r\n+                            [5, \"desc\"]\r\n+                        ],\r\n+                        columnDefs: [\r\n+                            {\r\n+                                \"targets\": [0],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [3],\r\n+                                \"visible\": false,\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [6],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+                            {\r\n+                                orderable: false,\r\n+                                targets: [5, 6]\r\n+                            }\r\n+                        ]\r\n+                    });\r\n+\r\n+                    table.columns().iterator('column', function(ctx, idx) {\r\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n+                    });\r\n+                }\r\n+            });\r\n+        }\r\n+    </script>\r\n @endpush\r\n"
                },
                {
                    "date": 1653962007328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,13 @@\n             {{-- Document modal end --}}\r\n         </div>\r\n     </div>\r\n @endsection\r\n+@push('footer')\r\n+{{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n+<script src=\"{{ asset('js/doc_add.js')}}\"></script>\r\n+    \r\n+@endpush\r\n \r\n @push('js')\r\n     <script>\r\n         $(document).ready(function() {\r\n@@ -45,224 +50,6 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    <script>\r\n-        $.ajaxSetup({\r\n-            headers: {\r\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n-            }\r\n-\r\n-        });\r\n-\r\n-        $(\"button#addDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"input[name=date_received]\").val();\r\n-            var deadline = $(\"input[name=deadline]\").val();\r\n-            var subject = $(\"input[name=subject]\").val();\r\n-            var origin_id = $(\"input[name=origin_id]\").val();\r\n-            var employee_id = $(\"input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"input[name=mor_id]\").val();\r\n-            var control_number = $(\"input[name=control_number]\").val();\r\n-\r\n-            $(this).text('Adding...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: \"{{ route('storeAjax') }}\",\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number\r\n-\r\n-                },\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Added!',\r\n-                            'Document Added Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"button#addDocument\").text('Add Document');\r\n-                    $(\"#addDocumentForm\")[0].reset();\r\n-                    $(\"#addDocumentModal\").modal('hide');\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // edit employee ajax request\r\n-        $(document).on('click', '.editIcon', function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            let id = $(this).attr('id');\r\n-            $.ajax({\r\n-                url: \"{{ route('edit.doc') }}\",\r\n-                method: 'get',\r\n-                data: {\r\n-                    id: id,\r\n-                    _token: '{{ csrf_token() }}'\r\n-                },\r\n-                success: function(response) {\r\n-\r\n-                    dr = response[0].date_received;\r\n-                    for (let x in response[0]) {\r\n-\r\n-                        var el = document.querySelector('#updateDocument');\r\n-                        el.setAttribute('data-id', id);\r\n-\r\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n-                        else {\r\n-                            name = x.replace('_id', '');\r\n-\r\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // update employee ajax request\r\n-\r\n-        $(\"button#updateDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n-            var el = document.querySelector(\"button#updateDocument\");\r\n-            var id = el.getAttribute('data-id');\r\n-            // var id = 38;\r\n-\r\n-            $(this).text('Updating...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: '{{ route('update.doc') }}',\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number,\r\n-                    id: id\r\n-\r\n-                },\r\n-                method: 'put',\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Updated!',\r\n-                            'Document Updated Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"#editDocumentModal\").modal('hide');\r\n-                    $(\"button#updateDocument\").text('Update Document');\r\n-\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // delete employee ajax request\r\n-        $(document).on('click', '.deleteIcon', function(e) {\r\n-            e.preventDefault();\r\n-            let id = $(this).attr('id');\r\n-            let csrf = '{{ csrf_token() }}';\r\n-            Swal.fire({\r\n-                title: 'Are you sure?',\r\n-                text: \"You won't be able to revert this!\",\r\n-                icon: 'warning',\r\n-                showCancelButton: true,\r\n-                confirmButtonColor: '#3085d6',\r\n-                cancelButtonColor: '#d33',\r\n-                confirmButtonText: 'Yes, delete it!'\r\n-            }).then((result) => {\r\n-                if (result.isConfirmed) {\r\n-                    $.ajax({\r\n-                        url: '{{ route('delete') }}',\r\n-                        method: 'delete',\r\n-                        data: {\r\n-                            id: id,\r\n-                            _token: csrf\r\n-                        },\r\n-                        success: function(response) {\r\n-                            // console.log(response);\r\n-                            Swal.fire(\r\n-                                'Deleted!',\r\n-                                'Your file has been deleted.',\r\n-                                'success'\r\n-                            )\r\n-                            fetchAllDocuments();\r\n-                        }\r\n-                    });\r\n-                }\r\n-            })\r\n-        });\r\n-\r\n-        // fetch all employees ajax request\r\n-        fetchAllDocuments();\r\n-\r\n-        function fetchAllDocuments() {\r\n-            $.ajax({\r\n-                url: '{{ route('fetchAll') }}',\r\n-                method: 'get',\r\n-                success: function(response) {\r\n-                    $(\"#show_all_documents\").html(response);\r\n-                    var table = $('#myTable').DataTable({\r\n-                        \"order\": [\r\n-                            [5, \"desc\"]\r\n-                        ],\r\n-                        columnDefs: [\r\n-                            {\r\n-                                \"targets\": [0],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [3],\r\n-                                \"visible\": false,\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [6],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-                            {\r\n-                                orderable: false,\r\n-                                targets: [5, 6]\r\n-                            }\r\n-                        ]\r\n-                    });\r\n-\r\n-                    table.columns().iterator('column', function(ctx, idx) {\r\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n-                    });\r\n-                }\r\n-            });\r\n-        }\r\n-    </script>\r\n+    <script></script>\r\n @endpush\r\n"
                },
                {
                    "date": 1653962032099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,6 +50,224 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    <script></script>\r\n+    <script>\r\n+        $.ajaxSetup({\r\n+            headers: {\r\n+                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n+            }\r\n+\r\n+        });\r\n+\r\n+        $(\"button#addDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"input[name=date_received]\").val();\r\n+            var deadline = $(\"input[name=deadline]\").val();\r\n+            var subject = $(\"input[name=subject]\").val();\r\n+            var origin_id = $(\"input[name=origin_id]\").val();\r\n+            var employee_id = $(\"input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"input[name=mor_id]\").val();\r\n+            var control_number = $(\"input[name=control_number]\").val();\r\n+\r\n+            $(this).text('Adding...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: \"{{ route('storeAjax') }}\",\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number\r\n+\r\n+                },\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Added!',\r\n+                            'Document Added Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"button#addDocument\").text('Add Document');\r\n+                    $(\"#addDocumentForm\")[0].reset();\r\n+                    $(\"#addDocumentModal\").modal('hide');\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // edit employee ajax request\r\n+        $(document).on('click', '.editIcon', function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            let id = $(this).attr('id');\r\n+            $.ajax({\r\n+                url: \"{{ route('edit.doc') }}\",\r\n+                method: 'get',\r\n+                data: {\r\n+                    id: id,\r\n+                    _token: '{{ csrf_token() }}'\r\n+                },\r\n+                success: function(response) {\r\n+\r\n+                    dr = response[0].date_received;\r\n+                    for (let x in response[0]) {\r\n+\r\n+                        var el = document.querySelector('#updateDocument');\r\n+                        el.setAttribute('data-id', id);\r\n+\r\n+                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n+                        else {\r\n+                            name = x.replace('_id', '');\r\n+\r\n+                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n+                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // update employee ajax request\r\n+\r\n+        $(\"button#updateDocument\").click(function(e) {\r\n+            e.preventDefault();\r\n+\r\n+            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n+            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n+            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n+            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n+            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n+            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n+            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n+            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n+            var el = document.querySelector(\"button#updateDocument\");\r\n+            var id = el.getAttribute('data-id');\r\n+            // var id = 38;\r\n+\r\n+            $(this).text('Updating...');\r\n+\r\n+            $.ajax({\r\n+                type: 'POST',\r\n+                url: '{{ route('update.doc') }}',\r\n+                data: {\r\n+\r\n+                    date_received: date_received,\r\n+                    deadline: deadline,\r\n+                    subject: subject,\r\n+                    origin_id: origin_id,\r\n+                    employee_id: employee_id,\r\n+                    doctype_id: doctype_id,\r\n+                    mor_id: mor_id,\r\n+                    control_number: control_number,\r\n+                    id: id\r\n+\r\n+                },\r\n+                method: 'put',\r\n+                success: function(data) {\r\n+                    // console.log(data.success);\r\n+                    if (data.status == 200) {\r\n+                        Swal.fire(\r\n+                            'Updated!',\r\n+                            'Document Updated Successfully!',\r\n+                            'success'\r\n+                        )\r\n+                        fetchAllDocuments();\r\n+                    }\r\n+                    $(\"#editDocumentModal\").modal('hide');\r\n+                    $(\"button#updateDocument\").text('Update Document');\r\n+\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        // delete employee ajax request\r\n+        $(document).on('click', '.deleteIcon', function(e) {\r\n+            e.preventDefault();\r\n+            let id = $(this).attr('id');\r\n+            let csrf = '{{ csrf_token() }}';\r\n+            Swal.fire({\r\n+                title: 'Are you sure?',\r\n+                text: \"You won't be able to revert this!\",\r\n+                icon: 'warning',\r\n+                showCancelButton: true,\r\n+                confirmButtonColor: '#3085d6',\r\n+                cancelButtonColor: '#d33',\r\n+                confirmButtonText: 'Yes, delete it!'\r\n+            }).then((result) => {\r\n+                if (result.isConfirmed) {\r\n+                    $.ajax({\r\n+                        url: '{{ route('delete') }}',\r\n+                        method: 'delete',\r\n+                        data: {\r\n+                            id: id,\r\n+                            _token: csrf\r\n+                        },\r\n+                        success: function(response) {\r\n+                            // console.log(response);\r\n+                            Swal.fire(\r\n+                                'Deleted!',\r\n+                                'Your file has been deleted.',\r\n+                                'success'\r\n+                            )\r\n+                            fetchAllDocuments();\r\n+                        }\r\n+                    });\r\n+                }\r\n+            })\r\n+        });\r\n+\r\n+        // fetch all employees ajax request\r\n+        fetchAllDocuments();\r\n+\r\n+        function fetchAllDocuments() {\r\n+            $.ajax({\r\n+                url: '{{ route('fetchAll') }}',\r\n+                method: 'get',\r\n+                success: function(response) {\r\n+                    $(\"#show_all_documents\").html(response);\r\n+                    var table = $('#myTable').DataTable({\r\n+                        \"order\": [\r\n+                            [5, \"desc\"]\r\n+                        ],\r\n+                        columnDefs: [\r\n+                            {\r\n+                                \"targets\": [0],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [3],\r\n+                                \"visible\": false,\r\n+                            },\r\n+       \r\n+                            {\r\n+                                \"targets\": [6],\r\n+                                \"visible\": false,\r\n+                                \"searchable\": false\r\n+                            },\r\n+                            {\r\n+                                orderable: false,\r\n+                                targets: [5, 6]\r\n+                            }\r\n+                        ]\r\n+                    });\r\n+\r\n+                    table.columns().iterator('column', function(ctx, idx) {\r\n+                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n+                    });\r\n+                }\r\n+            });\r\n+        }\r\n+    </script>\r\n @endpush\r\n"
                },
                {
                    "date": 1653962578553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    <script>\r\n+    {{-- <script>\r\n         $.ajaxSetup({\r\n             headers: {\r\n                 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n             }\r\n@@ -268,6 +268,6 @@\n                     });\r\n                 }\r\n             });\r\n         }\r\n-    </script>\r\n+    </script> --}}\r\n @endpush\r\n"
                },
                {
                    "date": 1653962638324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,224 +50,6 @@\n         });\r\n     </script>\r\n \r\n     <script src=\"{{ asset('auto.js') }}\"></script>\r\n-    {{-- <script>\r\n-        $.ajaxSetup({\r\n-            headers: {\r\n-                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n-            }\r\n \r\n-        });\r\n-\r\n-        $(\"button#addDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"input[name=date_received]\").val();\r\n-            var deadline = $(\"input[name=deadline]\").val();\r\n-            var subject = $(\"input[name=subject]\").val();\r\n-            var origin_id = $(\"input[name=origin_id]\").val();\r\n-            var employee_id = $(\"input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"input[name=mor_id]\").val();\r\n-            var control_number = $(\"input[name=control_number]\").val();\r\n-\r\n-            $(this).text('Adding...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: \"{{ route('storeAjax') }}\",\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number\r\n-\r\n-                },\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Added!',\r\n-                            'Document Added Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"button#addDocument\").text('Add Document');\r\n-                    $(\"#addDocumentForm\")[0].reset();\r\n-                    $(\"#addDocumentModal\").modal('hide');\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // edit employee ajax request\r\n-        $(document).on('click', '.editIcon', function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            let id = $(this).attr('id');\r\n-            $.ajax({\r\n-                url: \"{{ route('edit.doc') }}\",\r\n-                method: 'get',\r\n-                data: {\r\n-                    id: id,\r\n-                    _token: '{{ csrf_token() }}'\r\n-                },\r\n-                success: function(response) {\r\n-\r\n-                    dr = response[0].date_received;\r\n-                    for (let x in response[0]) {\r\n-\r\n-                        var el = document.querySelector('#updateDocument');\r\n-                        el.setAttribute('data-id', id);\r\n-\r\n-                        if (x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\r\n-                        else {\r\n-                            name = x.replace('_id', '');\r\n-\r\n-                            $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\r\n-                            $(\"#editDocumentModal #\" + x).val(response[name]);\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // update employee ajax request\r\n-\r\n-        $(\"button#updateDocument\").click(function(e) {\r\n-            e.preventDefault();\r\n-\r\n-            var date_received = $(\"#editDocumentModal input[name=date_received]\").val();\r\n-            var deadline = $(\"#editDocumentModal input[name=deadline]\").val();\r\n-            var subject = $(\"#editDocumentModal input[name=subject]\").val();\r\n-            var origin_id = $(\"#editDocumentModal input[name=origin_id]\").val();\r\n-            var employee_id = $(\"#editDocumentModal input[name=employee_id]\").val();\r\n-            var doctype_id = $(\"#editDocumentModal input[name=doctype_id]\").val();\r\n-            var mor_id = $(\"#editDocumentModal input[name=mor_id]\").val();\r\n-            var control_number = $(\"#editDocumentModal input[name=control_number]\").val();\r\n-            var el = document.querySelector(\"button#updateDocument\");\r\n-            var id = el.getAttribute('data-id');\r\n-            // var id = 38;\r\n-\r\n-            $(this).text('Updating...');\r\n-\r\n-            $.ajax({\r\n-                type: 'POST',\r\n-                url: '{{ route('update.doc') }}',\r\n-                data: {\r\n-\r\n-                    date_received: date_received,\r\n-                    deadline: deadline,\r\n-                    subject: subject,\r\n-                    origin_id: origin_id,\r\n-                    employee_id: employee_id,\r\n-                    doctype_id: doctype_id,\r\n-                    mor_id: mor_id,\r\n-                    control_number: control_number,\r\n-                    id: id\r\n-\r\n-                },\r\n-                method: 'put',\r\n-                success: function(data) {\r\n-                    // console.log(data.success);\r\n-                    if (data.status == 200) {\r\n-                        Swal.fire(\r\n-                            'Updated!',\r\n-                            'Document Updated Successfully!',\r\n-                            'success'\r\n-                        )\r\n-                        fetchAllDocuments();\r\n-                    }\r\n-                    $(\"#editDocumentModal\").modal('hide');\r\n-                    $(\"button#updateDocument\").text('Update Document');\r\n-\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n-        // delete employee ajax request\r\n-        $(document).on('click', '.deleteIcon', function(e) {\r\n-            e.preventDefault();\r\n-            let id = $(this).attr('id');\r\n-            let csrf = '{{ csrf_token() }}';\r\n-            Swal.fire({\r\n-                title: 'Are you sure?',\r\n-                text: \"You won't be able to revert this!\",\r\n-                icon: 'warning',\r\n-                showCancelButton: true,\r\n-                confirmButtonColor: '#3085d6',\r\n-                cancelButtonColor: '#d33',\r\n-                confirmButtonText: 'Yes, delete it!'\r\n-            }).then((result) => {\r\n-                if (result.isConfirmed) {\r\n-                    $.ajax({\r\n-                        url: '{{ route('delete') }}',\r\n-                        method: 'delete',\r\n-                        data: {\r\n-                            id: id,\r\n-                            _token: csrf\r\n-                        },\r\n-                        success: function(response) {\r\n-                            // console.log(response);\r\n-                            Swal.fire(\r\n-                                'Deleted!',\r\n-                                'Your file has been deleted.',\r\n-                                'success'\r\n-                            )\r\n-                            fetchAllDocuments();\r\n-                        }\r\n-                    });\r\n-                }\r\n-            })\r\n-        });\r\n-\r\n-        // fetch all employees ajax request\r\n-        fetchAllDocuments();\r\n-\r\n-        function fetchAllDocuments() {\r\n-            $.ajax({\r\n-                url: '{{ route('fetchAll') }}',\r\n-                method: 'get',\r\n-                success: function(response) {\r\n-                    $(\"#show_all_documents\").html(response);\r\n-                    var table = $('#myTable').DataTable({\r\n-                        \"order\": [\r\n-                            [5, \"desc\"]\r\n-                        ],\r\n-                        columnDefs: [\r\n-                            {\r\n-                                \"targets\": [0],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [3],\r\n-                                \"visible\": false,\r\n-                            },\r\n-       \r\n-                            {\r\n-                                \"targets\": [6],\r\n-                                \"visible\": false,\r\n-                                \"searchable\": false\r\n-                            },\r\n-                            {\r\n-                                orderable: false,\r\n-                                targets: [5, 6]\r\n-                            }\r\n-                        ]\r\n-                    });\r\n-\r\n-                    table.columns().iterator('column', function(ctx, idx) {\r\n-                        $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\r\n-                    });\r\n-                }\r\n-            });\r\n-        }\r\n-    </script> --}}\r\n @endpush\r\n"
                },
                {
                    "date": 1653965113844,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,10 @@\n     </div>\r\n @endsection\r\n @push('footer')\r\n {{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n-<script src=\"{{ asset('js/doc_add.js')}}\"></script>\r\n-    \r\n+{{-- <script src=\"{{ asset('js/doc_add.js')}}\"></script> --}}\r\n+@include('scripts.document_add.blade')\r\n @endpush\r\n \r\n @push('js')\r\n     <script>\r\n"
                },
                {
                    "date": 1653965142213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n @endsection\r\n @push('footer')\r\n {{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n {{-- <script src=\"{{ asset('js/doc_add.js')}}\"></script> --}}\r\n-@include('scripts.document_add.blade')\r\n+@include('scripts.document_add')\r\n @endpush\r\n \r\n @push('js')\r\n     <script>\r\n"
                },
                {
                    "date": 1653965324791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,11 +30,9 @@\n         </div>\r\n     </div>\r\n @endsection\r\n @push('footer')\r\n-{{-- <script src=\"{{ asset('js/document_add.js')}}\"></script> --}}\r\n-{{-- <script src=\"{{ asset('js/doc_add.js')}}\"></script> --}}\r\n-@include('scripts.document_add')\r\n+    @include('scripts.document_add')\r\n @endpush\r\n \r\n @push('js')\r\n     <script>\r\n"
                }
            ],
            "date": 1653292197068,
            "name": "Commit-0",
            "content": "@extends('layouts.app', ['activePage' => 'dashboard', 'titlePage' => __('Dashboard')])\n\n@section('content')\n  <div class=\"content\">\n    <div class=\"container-fluid\">\n      @include('layouts.components.status_nav')\n      @include('layouts.components.notification')\n      <div class=\"row my-5\">\n        <div class=\"col-lg-12\">\n          <div class=\"card shadow\">\n            <div class=\"card-header card-header-primary d-flex justify-content-between align-items-center\">\n              <h3 class=\"text-light\">{{ __('Documents')}}</h3>\n              {{-- <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\"> --}}\n              <button type=\"button\"  class=\"btn btn-light\"  data-toggle=\"modal\" data-target=\"#addDocumentModal\">\n                <i class=\"bi-plus-circle me-2\"></i> Add New Document</button>\n            </div>\n            \n            <div class=\"card-body \" id=\"show_all_documents\">\n              @include('layouts.components.loader')\n             \n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {{-- Document modal start --}}\n        @include('layouts.document.add')\n        @include('layouts.document.edit')\n      {{-- Document modal end --}}      \n\n\n\n    </div>\n  </div>\n\n      \n@endsection\n\n@push('js')\n  <script>\n    $(document).ready(function() {\n      \n      // Javascript method's body can be found in assets/js/demos.js\n      md.initDashboardPageCharts();\n      if($('.alert').length){\n          setInterval(() => {\n            $('.alert').addClass(\"fadeOutUp\");\n          }, 3000);\n          \n        }\n    });\n  </script>\n\n<script src=\"{{ asset('auto.js') }}\"></script>\n<script>\n  \n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n\n    });\n\n    $(\"button#addDocument\").click(function(e){\n        e.preventDefault();\n\n        var date_received   =   $(\"input[name=date_received]\").val();\n        var deadline        =   $(\"input[name=deadline]\").val();\n        var subject         =   $(\"input[name=subject]\").val();\n        var origin_id          =   $(\"input[name=origin_id]\").val();\n        var employee_id           =   $(\"input[name=employee_id]\").val();\n        var doctype_id         =   $(\"input[name=doctype_id]\").val();\n        var mor_id             =   $(\"input[name=mor_id]\").val();\n        var control_number  =   $(\"input[name=control_number]\").val();\n\n        $(this).text('Adding...');\n\n        $.ajax({\n           type:'POST',\n           url:\"{{ route('storeAjax') }}\",\n           data:{\n\n            date_received:date_received,\n            deadline:deadline,\n            subject:subject,\n            origin_id:origin_id,\n            employee_id:employee_id,\n            doctype_id:doctype_id,\n            mor_id:mor_id,\n            control_number:control_number\n\n          },\n           success:function(data){\n              // console.log(data.success);\n                        if (data.status == 200) {\n            Swal.fire(\n              'Added!',\n              'Document Added Successfully!',\n              'success'\n            )\n            fetchAllDocuments();\n          }\n              $(\"button#addDocument\").text('Add Document');\n              $(\"#addDocumentForm\")[0].reset();\n              $(\"#addDocumentModal\").modal('hide');\n           }\n        });\n    });\n\n    // edit employee ajax request\n    $(document).on('click', '.editIcon', function(e) {\n      e.preventDefault();\n\n      let id = $(this).attr('id');\n      $.ajax({\n        url:\"{{ route('edit.doc') }}\",\n        method: 'get',\n        data: {\n          id: id,\n          _token: '{{ csrf_token() }}'\n        },\n        success: function(response) {\n         \n          dr = response[0].date_received;\n          for (let x in response[0]) {\n\n            var el = document.querySelector('#updateDocument');\n            el.setAttribute('data-id', id);\n\n            if(x.search(\"_id\") < 0) $(\"#editDocumentModal #\" + x).val(response[0][x]);\n            else {\n              name = x.replace('_id', '');\n\n              $(\"#editDocumentModal input[name='\" + x + \"'\").val(response[0][x]);\n              $(\"#editDocumentModal #\" + x ).val(response[name]);\n            }\n          }\n        }\n      });\n    });\n\n    // update employee ajax request\n   \n    $(\"button#updateDocument\").click(function(e){\n        e.preventDefault();\n\n        var date_received   =   $(\"#editDocumentModal input[name=date_received]\").val();\n        var deadline        =   $(\"#editDocumentModal input[name=deadline]\").val();\n        var subject         =   $(\"#editDocumentModal input[name=subject]\").val();\n        var origin_id       =   $(\"#editDocumentModal input[name=origin_id]\").val();\n        var employee_id     =   $(\"#editDocumentModal input[name=employee_id]\").val();\n        var doctype_id      =   $(\"#editDocumentModal input[name=doctype_id]\").val();\n        var mor_id          =   $(\"#editDocumentModal input[name=mor_id]\").val();\n        var control_number  =   $(\"#editDocumentModal input[name=control_number]\").val();\n        var el = document.querySelector(\"button#updateDocument\");\n        var id = el.getAttribute('data-id');\n        // var id = 38;\n\n        $(this).text('Updating...');\n\n        $.ajax({\n           type:'POST',\n           url: '{{ route('update.doc') }}',\n           data:{\n\n            date_received:date_received,\n            deadline:deadline,\n            subject:subject,\n            origin_id:origin_id,\n            employee_id:employee_id,\n            doctype_id:doctype_id,\n            mor_id:mor_id,\n            control_number:control_number,\n            id:id\n\n          },\n          method: 'put',\n           success:function(data){\n              // console.log(data.success);\n                        if (data.status == 200) {\n            Swal.fire(\n              'Updated!',\n              'Document Updated Successfully!',\n              'success'\n            )\n            fetchAllDocuments();\n          }              \n              $(\"#editDocumentModal\").modal('hide');\n              $(\"button#updateDocument\").text('Update Document');\n              $(\"#update_document_form\")[0].reset();\n\n           }\n        });\n    });    \n    \n    // delete employee ajax request\n    $(document).on('click', '.deleteIcon', function(e) {\n      e.preventDefault();\n      let id = $(this).attr('id');\n      let csrf = '{{ csrf_token() }}';\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          $.ajax({\n            url: '{{ route('delete') }}',\n            method: 'delete',\n            data: {\n              id: id,\n              _token: csrf\n            },\n            success: function(response) {\n              // console.log(response);\n              Swal.fire(\n                'Deleted!',\n                'Your file has been deleted.',\n                'success'\n              )\n              fetchAllDocuments();\n            }\n          });\n        }\n      })\n    });\n\n    // fetch all employees ajax request\n    fetchAllDocuments();\n\n    function fetchAllDocuments() {\n      $.ajax({\n        url: '{{ route('fetchAll') }}',\n        method: 'get',\n        success: function(response) {\n          $(\"#show_all_documents\").html(response);\n          var table = $('#myTable').DataTable({\n            \"order\": [[ 5, \"desc\" ]],\n            columnDefs: [\n                          {\n                              \"targets\": [ 0 ],\n                              \"visible\": false,\n                              \"searchable\": false\n                          },\n                          {\n                              \"targets\": [ 5 ],\n                              \"visible\": false,\n                              \"searchable\": false\n                          },\n                          { orderable: false, targets: [4,5] }\n                        ]\n          });\n\n          table.columns().iterator('column', function (ctx, idx) {\n          $(table.column(idx).header()).prepend('<span class=\"sort-icon\"/>');\n    });\n        }\n      });\n    }\n</script>\n@endpush\n\n"
        }
    ]
}